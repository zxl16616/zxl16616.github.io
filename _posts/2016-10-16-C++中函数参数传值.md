---
layout: post
comments: true
categories: 呵呵
---

C++中函数参数的调用类型一共有三种，分别为传值调用、指针调用和引用调用。默认情况下，C++使用传值调用的方式。本文定义 swap() 函数来测试三种调用的使用方法和区别。  

首先定义主函数来调用 swap() 并打印测试结果，一下三种调用方式都使用此主函数来测试。  
 

	int main ()
	{
		// 局部变量声明
		int a = 100;
		int b = 200;
 
		cout << "交换前，a 的值：" << a << endl;
		cout << "交换前，b 的值：" << b << endl;
 
		// 调用函数来交换值
		swap(a, b);
 
		cout << "交换后，a 的值：" << a << endl;
		cout << "交换后，b 的值：" << b << endl;
 
		return 0;
	}


### 传值调用
该方法把参数的实际值复制给函数的形式参数。在这种情况下，修改函数内的形式参数对实际参数没有影响。使用传值调用的函数定义如下：  
    
	void swap(int x, int y)
    {
		int temp;

		temp = x;
		x = y;
		y = temp

		return;
	}

运行结果：  

    交换前，a 的值： 100
    交换前，b 的值： 200
    交换后，a 的值： 100
    交换后，b 的值： 200
	
以上的实验结果表明，虽然在函数体内改变了x、y的值，但是实际上只是改变了函数形参的值，而函数的形参只是主函数中a、b变量的一个拷贝，事实上主函数中a、b的值并没有发生变化。  


### 指针调用  
向函数传递参数的指针调用方法，把参数的地址复制给形式参数。在函数内，该地址用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。

按指针传递值，参数指针被传递给函数，就像传递其他值给函数一样。因此相应地，在下面的函数 swap() 中，声明函数参数为指针类型，该函数用于交换参数所指向的两个整数变量的值。  

	void swap(int *x, int *y)
	{
        int temp;
        temp = *x;    /* 保存地址 x 的值 */
        *x = *y;      /* 把 y 赋值给 x */
        *y = temp;    /* 把 x 赋值给 y */
  
        return;
    }

运行结果：

    交换前，a 的值： 100
    交换前，b 的值： 200
    交换后，a 的值： 200
    交换后，b 的值： 100


### 引用调用

向函数传递参数的引用调用方法，把引用的地址复制给形式参数。在函数内，该引用用于访问调用中要用到的实际参数。这意味着，修改形式参数会影响实际参数。

按引用传递值，参数引用被传递给函数，就像传递其他值给函数一样。因此相应地，在下面的函数 swap() 中，声明函数参数为引用类型，该函数用于交换参数所指向的两个整数变量的值。  

	void swap(int &x, int &y)
	{
    	int temp;
    	temp = x; /* 保存地址 x 的值 */
    	x = y;    /* 把 y 赋值给 x */
    	y = temp; /* 把 x 赋值给 y  */
  
		return;
	}

运行结果：

	交换前，a 的值： 100
	交换前，b 的值： 200
	交换后，a 的值： 200
	交换后，b 的值： 100